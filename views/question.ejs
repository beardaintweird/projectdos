<html>
  <head>
    <title>Hello!</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
  </head>
  <body>
    <p><%= question %></p>
    <a-scene cursor="rayOrigin: mouse" embedded arjs>
<!--       <a-marker-camera preset='hiro'></a-marker-camera> -->
      <!-- <a-entity mouse-cursor></a-entity> -->
      <a-entity id="questionImg"
      geometry="primitive: plane; height: 1; width: 1"
      material="shader: flat;"
      position="0 1.25 -3"></a-entity>
      <a-entity id="false">
        <a-box
              data-option="false"
               text="value: <%= question.opt2 %>; width: 1; align:center;"
               geometry="primitive: plane; height:1;width:.25"
               color="#EF2D5E"
               position="-.55 1.25 -3"
               rotation="0 0 0"></a-box>
      </a-entity>
      <a-entity id="true">
        <a-box
              data-option="true"
               text="value: <%= question.opt1 %>; width: 1; align:center;"
               geometry="primitive: plane; height:1;width:.25"
               color="#32CD32"
               position=".55 1.25 -3"
               rotation="0 0 0"></a-box>
      </a-entity>
      <a-entity
                material="color:white;"
                geometry="primitive: plane;height:.1;width:.5;"
                text="value: <%= question.question %>; color:#004977; align:center;"
                position="0 1 -2">
              </a-entity>
    </a-scene>
    <div data-question="<%- JSON.stringify(question).replace(/"/g, "&quot;"); %>"></div>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script type="text/javascript">
      let x = document;
      let question = JSON.parse($('[data-question]')[0].dataset.question);
      question.answer = question.answer.toLowerCase();
      console.log(question);
      document.querySelector('#questionImg').setAttribute('material','src',question.img);
      x.querySelector('#true').addEventListener('click', function(e){
        console.log(e.target.dataset.option);
        if(e.target.dataset.option == question.answer) {
          alert('correct answer selected');
        } else {
          alert('nahp');
        }
      })
      x.querySelector('#false').addEventListener('click', function(e){
        console.log(e.target.dataset.option);
        if(e.target.dataset.option == question.answer) {
          alert('correct answer selected');
        } else {
          alert('nahp');
        }
      })
    </script>
  </body>
</html>
